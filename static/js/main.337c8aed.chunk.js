(this.webpackJsonpgovernable=this.webpackJsonpgovernable||[]).push([[0],{66:function(e,t,n){e.exports=n(80)},71:function(e,t,n){},72:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},73:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),l=n.n(o),i=(n(71),n(29)),c=(n(72),n(73),n(98)),s=n(97),m=n(96),u=n(49),p=n.n(u),d=n(23),g=n(24);function f(){var e=Object(d.a)(["\n  box-sizing: border-box;\n  margin: 0 auto;\n  max-width: 1800px;\n  width: 100%;\n  padding: 0 24px;\n"]);return f=function(){return e},e}var h=g.a.div(f()),v=function(e){var t=e.children;return r.a.createElement(h,null,t)},E=n(100),y=n(54),x=n.n(y),b=n(53),w=n.n(b);function k(){var e=Object(d.a)(["\n  align-items: center;\n  color: #FFF;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  position: relative;\n"]);return k=function(){return e},e}function j(){var e=Object(d.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n"]);return j=function(){return e},e}function O(){var e=Object(d.a)(["\n  background: #000;\n  display: flex;\n  margin-top: -80px;\n  min-height: calc(50vh - 80px);\n  position: relative;\n  touch-action: none;\n"]);return O=function(){return e},e}var F=g.a.div(O()),_=g.a.div(j()),C=g.a.div(k()),N=function(e){var t=e.proposal,n=t.id,o=t.title,l=Object(a.useContext)(Y),i=l.UpdateVoters,c=l.proposals;return r.a.createElement(F,{id:"hero"},r.a.createElement(C,null,r.a.createElement(_,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",{style:{margin:0,padding:0,fontSize:"2vmax",fontWeight:500,textShadow:"0px 4px 4px black"},onClick:function(){i(n+1)}},"A House Divided")),r.a.createElement("div",{style:{display:"flex"}},n>1?r.a.createElement(E.a,{style:{float:"left",height:"20px"}},r.a.createElement(w.a,{style:{color:"#FFF",fontSize:24},onClick:function(){return n>1?i(n-1):null}})):null,r.a.createElement("h2",{style:{margin:0,padding:0,fontSize:"1vmax",fontWeight:500,textShadow:"0px 4px 4px black",display:"flex"}},r.a.createElement("div",null,r.a.createElement("a",{style:{color:"grey"}},("00"+n).slice(-3)),"  ",o)),n<c.length?r.a.createElement(E.a,{style:{float:"right",height:"20px"}},r.a.createElement(x.a,{style:{color:"#FFF",fontSize:24},onClick:function(){return n<c.length?i(n+1):null}})):null)),r.a.createElement("div",{style:{position:"relative",top:-80}})))},S=n(55),I=n(99),A=Object(m.a)((function(e){return{tokenIcon:{alignItems:"center",backgroundColor:e.palette.grey[400],borderRadius:48,display:"flex",height:44,width:44}}})),R=function(e){var t=e.src,n=A();return r.a.createElement("img",{className:n.tokenIcon,src:t})},B=Object(m.a)((function(e){return{progressBar:{height:"30px",width:"100%"},bar:{position:"absolute",height:10,borderRadius:5}}})),W=function(e){var t=e.side,n=e.percentage,a=e.color,o=B();return r.a.createElement(I.a,{className:o.progressBar},r.a.createElement("div",{style:{width:"100%",height:"30px"}},r.a.createElement("h3",{style:{float:"left"}},t),r.a.createElement("h3",{style:{float:"right"}},n,"%")),r.a.createElement("div",{style:{position:"relative",marginTop:20}},r.a.createElement("div",{className:o.bar,style:{width:"100%",background:"lightgrey",right:0}}),r.a.createElement("div",{className:o.bar,style:{width:"".concat(n,"%"),background:a}})))},z=Object(m.a)((function(e){return{headerRow:{alignItems:"center",borderBottom:"1px solid ".concat(e.palette.grey[100]),height:80,paddingLeft:24,paddingRight:24,"&:hover":{}}}})),T=function(e){var t=e.children,n=z();return r.a.createElement(I.a,{className:n.headerRow},t)},L=Object(m.a)((function(e){return{row:{alignItems:"center",borderBottom:"1px solid ".concat(e.palette.grey[100]),display:"flex",height:50,paddingLeft:24,paddingRight:24,"&:hover":{}}}})),D=function(e){var t=e.children,n=L();return r.a.createElement(I.a,{className:n.row},t)},H=Object(m.a)((function(e){return{name:{marginLeft:e.spacing(2)},tokenCell:{alignItems:"center",display:"flex",flex:1}}})),P=function(e){var t=e.name,n=e.tokenIcon,a=H();return r.a.createElement(I.a,{className:a.tokenCell},n,r.a.createElement("span",{className:a.name},t))},V=Object(m.a)((function(e){return{tflCell:{fontWeight:300}}})),M=function(e){var t=e.time,n=V();return r.a.createElement(I.a,{className:n.tflCell},t)},J=Object(m.a)((function(e){return{tflCell:{fontWeight:500,width:140}}})),U=function(e){var t=e.amount,n=J();return r.a.createElement(I.a,{className:n.tflCell},t.toString().split(".")[0].replace(/\B(?=(\d{3})+(?!\d))/g,","))},$=function(e){var t=e.side,n=e.percentage,o=e.color,l=Object(a.useContext)(Y).voters.filter((function(e){return"For"===t?!0===e.support:!1===e.support})).sort((function(e,t){return t.votes-e.votes}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{key:"Votes"},r.a.createElement(W,{side:t,percentage:n,color:o})),r.a.createElement(D,{key:"Header"},r.a.createElement(P,{name:"Address"}),r.a.createElement(U,{amount:"Votes"}),r.a.createElement(M,{time:"Time"})),l.slice(0,4).map((function(e,t){var n=e.display_name?e.display_name:e.address.slice(0,10);return r.a.createElement(D,{key:e.address},r.a.createElement(P,{name:n,tokenIcon:r.a.createElement(R,{src:e.image_url})}),r.a.createElement(U,{amount:e.votes}),r.a.createElement(M,{time:e.time}))})),l.length>4?r.a.createElement(D,{key:"Expand"},r.a.createElement(I.a,{style:{margin:"0 auto",fontWeight:500}},"Show More")):"")},q={paper:{padding:20,textAlign:"center",fontFamily:"Roboto"},stick:{position:"sticky",top:"20px"}},G=function(e){var t=e.tweets,n=e.side,a=e.percentage,o=e.color;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{className:q.paper,elevation:3},r.a.createElement($,{side:n,percentage:a,color:o})),r.a.createElement("br",null),r.a.createElement("div",null,'Latest "',n,'" Tweets (',t.length,")"),t.map((function(e,n){return r.a.createElement("div",{key:n,style:n===t.length-1?q.stick:{}},r.a.createElement(S.a,{tweetId:e}))})))};n(79);var K=function(){Object(a.useContext)(Y).voters;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"450px"}},r.a.createElement("svg",{style:{width:"100%",height:"100%"}},r.a.createElement("circle",{cx:"150",cy:225,r:"40"}))))},Q=Object(m.a)((function(e){return{paper:{padding:20,textAlign:"center",fontFamily:"Roboto"}}})),X=function(){var e=Object(a.useContext)(Y),t=e.tweets,n=e.proposals,o=e.currentProposal,l=n.find((function(e){return e.id===o}))||{},i=t.find((function(e){return e.id===o}))||{},m=function(e){return(parseFloat(e)/(parseFloat(l.for_votes)+parseFloat(l.against_votes))*100).toFixed(2)},u=new p.a.Converter;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{proposal:l}),r.a.createElement(v,null,r.a.createElement("div",{style:{marginTop:-68,position:"relative"}},r.a.createElement(c.a,{container:!0,spacing:3},r.a.createElement(c.a,{item:!0,xs:3},r.a.createElement(G,{side:"For",percentage:m(l.for_votes),color:"#04D394",tweets:i.pro||[]})),r.a.createElement(c.a,{item:!0,xs:6},r.a.createElement("div",{style:{position:"sticky",top:20}},r.a.createElement(s.a,{className:Q.paper,elevation:3,style:{background:"lightgrey"}},r.a.createElement(K,null)),r.a.createElement(c.a,{item:!0,xs:7},r.a.createElement(s.a,{className:Q.paper,elevation:3,style:{marginTop:"20px"}},r.a.createElement("div",{style:{height:"400px",textAlign:"left"}},r.a.createElement("h3",{style:{padding:"1em 1em 0 1em"}},"Details"),l.description&&l.description.split("\n\n").map((function(e){return r.a.createElement("p",{style:{margin:"1em 1em"},dangerouslySetInnerHTML:{__html:u.makeHtml(e)}})}))))))),r.a.createElement(c.a,{item:!0,xs:3},r.a.createElement(G,{side:"Against",percentage:m(l.against_votes),color:"#DE5F67",tweets:i.neg||[]}))))))},Y=r.a.createContext({}),Z=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)([]),c=Object(i.a)(l,2),s=c[0],m=c[1],u=Object(a.useState)([]),p=Object(i.a)(u,2),d=p[0],g=p[1],f=Object(a.useState)(1),h=Object(i.a)(f,2),v=h[0],E=h[1],y=function(e){fetch("https://api.compound.finance/api/v2/governance/proposal_vote_receipts?proposal_id=".concat(e,"&page_size=100")).then((function(e){return e.json()})).then((function(t){E(e);var n=t.proposal_vote_receipts.map((function(e){var t=e.support,n=e.votes,a=e.voter;return{support:t,address:a.address,display_name:a.display_name,image_url:a.image_url,votes:parseFloat(n),time:"4/27 - 12:00"}}));m(n)}),(function(e){console.log(e)}))},x=[{id:1,pro:["1254846366506905601","1254899993443471360","1256090650170327041"],neg:["1254669301308506113","1255235435447685120","1255181493279707136","1255609457519652864"]},{id:2,pro:[],neg:["1255609457519652864"],abstrain:["1256313098723569664"]},{id:3,pro:["1260986319972429824"],neg:[]},{id:4,pro:[],neg:[]}];return Object(a.useEffect)((function(){o(x),fetch("https://api.compound.finance/api/v2/governance/proposals").then((function(e){return e.json()})).then((function(e){g(e.proposals)}),(function(e){console.log(e)})),y(1)}),[]),r.a.createElement(Y.Provider,{value:{tweets:n,proposals:d,currentProposal:v,setCurrentProposal:E,voters:s,UpdateVoters:y}},r.a.createElement("div",{className:"App"},r.a.createElement(X,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.337c8aed.chunk.js.map